> 通過 `前置腳本(Pre-Publish Script)` `圖表(Chart View)` `用戶腳本(User Script)` 可以極大的拓展`TTQM`的能力,以豐富其適用的場景

---

### `前置腳本(Pre-Publish Script)` :id=1

| 序號 | 能力                                                                                                                                                                                                                                                     |
| ---- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1    | 可以使用內置的`變量(variable)`來替換發送消息中的模板變量                                                                                                                                                                                                 |
| 2    | 可以使用內置的`變量管道(variable pipe)`來實現對變量的處理,如轉換為數字,轉換為字符串,所有變量管道將會按照順序執行,上一個處理的返回值將會作為下一個的輸入值                                                                                                |
| 3    | 可以使用`管道(pipe)`對整個消息體進行處理,管道將會按照順序執行,上一個處理的返回值將會作為下一個的輸入值                                                                                                                                                   |
| 4    | 可以添加自定義的`變量(variable)`,自定義的變量可以是`function`,這時將會把返回值作為處理後的變量,也可以是字符串,數字等變量,將會直接作為變量返回. `function`的第一個參數將會傳入整個消息體,具體的使用請參照 [前置腳本](zh-tw/pre-publish-script/default.md) |
| 5    | 可以添加自定義的 `變量管道(variable pipe)`,其為`function`類型,將會傳入整個消息體和需要傳入的參數,將返回值作為模板變量                                                                                                                                    |
| 6    | 可以添加自定義的`pipe`,用來處理整個消息體,並返回新的消息體                                                                                                                                                                                               |
| 7    | 支持添加第三方 `node modules`來豐富腳本功能, 請參考 [常見問題>如何添加腳本依賴庫?](zh-tw/question/how-to-add-support-modules.md)                                                                                                                         |
| 8    | 可以通過 `console` 來實現打印調試                                                                                                                                                                                                                        |

---

### `圖表(Chart View)` :id=2

| 序號 | 能力                                                                                                                             |
| ---- | -------------------------------------------------------------------------------------------------------------------------------- |
| 1    | 支持眾多的圖表類型,柱狀圖,餅狀圖,玫瑰圖等類型,具體請[參考鏈接](https://echarts.apache.org/examples/zh/index.html)                |
| 2    | 兼容 `Apache Echarts` 配置, 配置項需要進行一些調整,具體參考 [圖表>配置](zh-tw/chart/option.md)                                   |
| 3    | 支持圖表交互                                                                                                                     |
| 4    | 支持數據源的整體和局部更新 [圖表>腳本](zh-tw/chart/script.md)                                                                    |
| 5    | 支持監聽`MQTT`客戶端事件以及圖表事件來實現不同的圖表更新,例如: 客戶端連接上,斷開等,具體請參考 [圖表>腳本](zh-tw/chart/script.md) |
| 6    | 支持同時繪製多圖表                                                                                                               |
| 7    | 支持添加第三方 `node modules`來豐富腳本功能, 請參考 [常見問題>如何添加腳本依賴庫?](zh-tw/question/how-to-add-support-modules.md) |
| 8    | 可以通過 `console` 來實現打印調試                                                                                                |

---

### `用戶腳本(User Script)` :id=3

| 序號 | 能力                                                                                                                             |
| ---- | -------------------------------------------------------------------------------------------------------------------------------- |
| 1    | 支持同時運行多個腳本                                                                                                             |
| 2    | 支持監聽處理`MQTT`客戶端事件                                                                                                     |
| 3    | 支持發布消息                                                                                                                     |
| 4    | 可以模擬 `IoT` 設備, 模擬服務端程序,以及其他端設備                                                                               |
| 5    | 支持添加第三方 `node modules`來豐富腳本功能, 請參考 [常見問題>如何添加腳本依賴庫?](zh-tw/question/how-to-add-support-modules.md) |
| 6    | 可以通過 `console` 來實現打印調試                                                                                                |
